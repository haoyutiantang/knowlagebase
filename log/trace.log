2021-08-27 15:16:19.384 INFO  org.hibernate.validator.internal.util.Version     :21   [32m                  [0;39m HV000001: Hibernate Validator 6.1.6.Final
2021-08-27 15:16:19.392 INFO  c.h.knowlagebase.config.KnowlagebaseApplication   :55   [32m                  [0;39m Starting KnowlagebaseApplication using Java 1.8.0_261 on DESKTOP-CTIIJC1 with PID 4244 (E:\code\java\knowlagebase\target\classes started by MECHREVO in E:\code\java\knowlagebase)
2021-08-27 15:16:19.392 INFO  c.h.knowlagebase.config.KnowlagebaseApplication   :660  [32m                  [0;39m No active profile set, falling back to default profiles: default
2021-08-27 15:16:19.439 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-08-27 15:16:19.439 INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor :255  [32m                  [0;39m For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-08-27 15:16:20.273 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :250  [32m                  [0;39m Multiple Spring Data modules found, entering strict repository configuration mode!
2021-08-27 15:16:20.276 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :128  [32m                  [0;39m Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-08-27 15:16:20.294 INFO  o.s.d.r.config.RepositoryConfigurationDelegate    :188  [32m                  [0;39m Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2021-08-27 15:16:20.900 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :108  [32m                  [0;39m Tomcat initialized with port(s): 8880 (http)
2021-08-27 15:16:20.906 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Initializing ProtocolHandler ["http-nio-8880"]
2021-08-27 15:16:20.907 INFO  org.apache.catalina.core.StandardService          :173  [32m                  [0;39m Starting service [Tomcat]
2021-08-27 15:16:20.907 INFO  org.apache.catalina.core.StandardEngine           :173  [32m                  [0;39m Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-08-27 15:16:20.966 INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] :173  [32m                  [0;39m Initializing Spring embedded WebApplicationContext
2021-08-27 15:16:20.966 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext    :289  [32m                  [0;39m Root WebApplicationContext: initialization completed in 1527 ms
2021-08-27 15:16:21.731 INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor  :181  [32m                  [0;39m Initializing ExecutorService 'applicationTaskExecutor'
2021-08-27 15:16:22.018 INFO  o.s.scheduling.concurrent.ThreadPoolTaskScheduler :181  [32m                  [0;39m Initializing ExecutorService 'taskScheduler'
2021-08-27 15:16:22.055 INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer    :58   [32m                  [0;39m LiveReload server is running on port 35729
2021-08-27 15:16:22.073 INFO  org.apache.coyote.http11.Http11NioProtocol        :173  [32m                  [0;39m Starting ProtocolHandler ["http-nio-8880"]
2021-08-27 15:16:22.085 INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer      :220  [32m                  [0;39m Tomcat started on port(s): 8880 (http) with context path ''
2021-08-27 15:16:22.096 INFO  c.h.knowlagebase.config.KnowlagebaseApplication   :61   [32m                  [0;39m Started KnowlagebaseApplication in 3.142 seconds (JVM running for 4.363)
2021-08-27 15:16:22.098 INFO  c.h.knowlagebase.config.KnowlagebaseApplication   :28   [32m                  [0;39m 启动成功！
2021-08-27 15:16:22.098 INFO  c.h.knowlagebase.config.KnowlagebaseApplication   :29   [32m                  [0;39m 地址：	http://127.0.0.1:8880
2021-08-27 15:16:25.009 INFO  com.haoyu.knowlagebase.job.EbookSnapshotJob       :32   [32m86358139900923904 [0;39m 生成今日电子书快照开始
2021-08-27 15:16:25.023 INFO  com.zaxxer.hikari.HikariDataSource                :110  [32m86358139900923904 [0;39m HikariPool-1 - Starting...
2021-08-27 15:16:25.849 INFO  com.zaxxer.hikari.HikariDataSource                :123  [32m86358139900923904 [0;39m HikariPool-1 - Start completed.
2021-08-27 15:16:25.855 DEBUG c.h.k.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m86358139900923904 [0;39m ==>  Preparing: insert into ebook_snapshot(ebook_id, `date`, view_count, vote_count, view_increase, vote_increase) select t1.id, curdate(), 0, 0, 0, 0 from ebook t1 where not exists(select 1 from ebook_snapshot t2 where t1.id = t2.ebook_id and t2.`date` = curdate()); update ebook_snapshot t1, ebook t2 set t1.view_count = t2.view_count, t1.vote_count = t2.vote_count where t1.`date` = curdate() and t1.ebook_id = t2.id; update ebook_snapshot t1 left join (select ebook_id, view_count, vote_count from ebook_snapshot where `date` = date_sub(curdate(), interval 1 day)) t2 on t1.ebook_id = t2.ebook_id set t1.view_increase = (t1.view_count - ifnull(t2.view_count, 0)), t1.vote_increase = (t1.vote_count - ifnull(t2.vote_count, 0)) where t1.`date` = curdate();
2021-08-27 15:16:25.870 DEBUG c.h.k.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m86358139900923904 [0;39m ==> Parameters: 
2021-08-27 15:16:25.935 DEBUG c.h.k.mapper.EbookSnapshotMapperCust.genSnapshot  :137  [32m86358139900923904 [0;39m <==    Updates: 7
2021-08-27 15:16:25.936 INFO  com.haoyu.knowlagebase.job.EbookSnapshotJob       :35   [32m86358139900923904 [0;39m 生成今日电子书快照结束，耗时：927毫秒
